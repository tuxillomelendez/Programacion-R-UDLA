---
title: "**Cátedra 1: Informe de Análisis de Datos**"
subtitle: "**Nombre y sigla de la asignatura:** 202410 ACI1018EL_1-9710 PROGRAMACIÓN EN R"
author: "Alumno: Jorge Eduardo Melendez Bastías"
date: "Fecha Entrega: 22-06-2024 23:59"
site: bookdown::bookdown_site
output:
  bookdown::html_document2:
    toc: true
    toc_depth: 2
    toc_float:
      collapsed: true
      smooth_scroll: true
    theme: flatly
    highlight: kate
    df_print: paged
    code_folding: show
---
```{r, warning=FALSE}
# Establece el directorio donde están los fuentes a trabajar.
setwd("C:/Users/jorge/OneDrive/MAGISTER/01/PROGRAMACION EN R/EVALUACIONES/EVALUACION 1 (AUTOS)")
```

# Objetivo de investigación

El análisis de la inscripción de vehículos eléctricos en EE.UU. durante los años 2020-2023 proporciona una perspectiva sobre las tendencias y patrones en la adopción de tecnologías de transporte más limpias y sostenibles. Con aproximadamente 181,458 observaciones y 17 variables, este conjunto de datos ofrece una amplia gama de información para explorar.

# Objetivo General

Analizar la inscripción de vehículos eléctricos en EE.UU. durante los años 2020-2023, utilizando técnicas de análisis de datos en R Studio y MySQL, con el objetivo de identificar tendencias y patrones que puedan ser útiles en el aprendizaje académico para el postulante a magister en ciencia de datos.

# Objetivos Especificos

- Analizar la evolución del registro de vehículos eléctricos en EE.UU. durante los años 2020-2023.
- Identificar tendencias y patrones en el registro de vehículos eléctricos por tipo de vehículo y estado.
- Utilizar técnicas de programación en R Studio, especialmente las librerías del mundo tidyverse, para el análisis de datos.
- Utilizar MySQL para almacenar y gestionar la gran cantidad de registros, aplicando buenas prácticas para agilizar el análisis.

# Librerías Utilizadas
A continuación las librerías utilizadas en este informe. 

```{r message=FALSE, warning=FALSE}
library(ini) # Para leer y escribir archivos de configuración en formato INI.
library(janitor) # Para limpiar y examinar datos en R, incluyendo la normalización de nombres de columnas y la identificación de datos duplicados.
library(conflicted) # Resuelve conflictos de nombre de funciones entre paquetes.
library(tidyverse) # Conjunto de paquetes para manipulación de datos, visualización y análisis.
library(ggthemes) # Proporciona temas adicionales y escalas de color para personalizar gráficos de ggplot2.
library(skimr) # Para resumir datos de manera rápida y concisa, proporcionando estadísticas resumidas útiles.
library(knitr) # Para generar tablas en formato markdown, HTML y otros, en R Markdown.
library(kableExtra) # Extiende las capacidades de 'knitr' para formatear tablas y gráficos en HTML.
library(RMySQL) # Para conectarse a bases de datos MySQL desde R.
library(DBI) # Interfaz para bases de datos, abstrae funciones de bajo nivel.
library(sf) # Proporciona funciones para trabajar con datos espaciales.
library(viridis) # Ofrece paletas de colores perceptiblemente uniformes.
source("funciones_jmb_R.R") # Funciones personalizadas creadas por Jorge Melendez para esta cátedra.
```

```{r message=FALSE, warning=FALSE}
# Establece preferencias en el uso de funciones filter y lag, dando prioridad a las versiones de dplyr sobre otras posibles definiciones.
conflict_prefer("filter", "dplyr")
conflict_prefer("lag", "dplyr")
```

# Introducción
El conjunto de datos sobre la población de vehículos eléctricos proporciona información detallada sobre los vehículos eléctricos de batería (BEV) y los vehículos híbridos enchufables (PHEV) que están registrados actualmente a través del Departamento de Licencias del Estado de Washington. Los datos incluyen detalles como la marca, el modelo, el año del vehículo y la ubicación de registro. Este conjunto de datos es una valiosa fuente de información para el análisis de la adopción de vehículos eléctricos en la región y está disponible públicamente para su acceso y uso. <br>
El archivo con objetivo de análisis fue descargado de la siguiente url [https://catalog.data.gov/](https://catalog.data.gov/dataset/electric-vehicle-population-data)

## Arquitectura
*La arquitectura se centra en el uso del lenguaje de programación R como herramienta principal para el análisis y modelado de datos. Los datos se importan en R desde diversas fuentes, como archivos CSV en este caso y son almacenadas en base de datos MySQL. Una vez en R, se utilizan varios paquetes para procesar y analizar los datos. Entre estos paquetes se incluyen `tidyverse` para la ciencia de datos, `ggplot2` para la visualización de datos, `dplyr` para la visualización de datos  y `rmarkdown` para la creación de documentos dinámicos. Los resultados del análisis se pueden exportar en varios formatos, incluyendo HTML. Además, se utilizan archivos de configuración `.ini` para almacenar variables o ajustes utilizados dentro de este flujo de trabajo.* <br><br><br>
<center>
  ![Arquitectura de alto nivel de la solución para el análisis de datos](ArquitecturaAltoNivel.jpg){width=100% height=100%}
</center>
<br><br><br>

## Conexión a BD a través de R
Este código en R lee un archivo de configuración "config.ini" y extrae varios parámetros necesarios para conectarse a una base de datos, como el nombre de la base, el servidor, el puerto, el usuario y la contraseña. Luego, utiliza estos parámetros para establecer una conexión a la base de datos mediante la función conectar_mysql_desde_ini.

```{r, warning=FALSE}
# Utiliza la funcion "conectar_mysql_desde_ini" de funciones_jmb_R donde se le entrega como parametro
# el archivo INI con las variables para conectar a MySQL.

archivo_config <- "config.ini"
con <- conectar_mysql_desde_ini(archivo_config)
```

<br><br><br>

## Lectura de los archivos CSV

```{r}
electric_cars <- read.csv("Electric_Vehicle_Population_Data.csv", sep = ",") 
```


## Descripción del Conjunto de Datos
Para efectos de investigación técnica de R se almacena la información de la meta data del set de datos a analizar en MySQL en la tabla "metadata_vehiculos".<br>
Para propósitos de presentación la tabla se "hermosea" con la función kable.<br> 
```{r, fig.align="center", warning=FALSE}
conjunto_datos <- as_tibble(dbReadTable(con, "metadata_vehiculos"))

kable(conjunto_datos, format = "html") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) %>%
  add_header_above(c(" " = 1, "Descripción de Variables - Electric Car" = 4)) %>%
  column_spec(1, bold = TRUE) %>%
  row_spec(0, bold = TRUE)
```

# Preprocesamiento de Datos

## Algunas consideraciones al trabajar con MySQL y R

Se deben realizar algunas configuraciones para el almacén de datos desde R a MySQl
```{r}
# Habilitar local_infile globalmente
# se debe configurar para recibir datos de manera externa.
# tambien ver esta configuracion:
# https://medium.com/@kiena/troubleshooting-dbeaver-public-key-retrieval-is-not-allowed-error-29f203d745c5
# dbExecute(con, "SET @@GLOBAL.local_infile = 1;")
```

## Analisis y Limpieza del data set.

El siguiente código en R realiza una serie de pasos para preparar y limpiar un conjunto de datos sobre vehículos eléctricos. Primero, lee los datos de una base de datos y los convierte a un formato de tabla. Luego, limpia los nombres de las columnas para que sean más manejables. A continuación, transforma ciertas columnas numéricas a caracteres y otras a factores, lo que facilita su análisis. El código identifica y guarda los registros con datos faltantes y, finalmente, elimina esas filas con valores perdidos del conjunto de datos, dejando solo los registros completos para el análisis posterior.
```{r}
# Lectura de datos
electric_cars <- as_tibble(dbReadTable(con, "electric_cars"))

# Limpieza de nombres de columnas
electric_cars <- electric_cars %>% clean_names()

# Limpieza de columnas - Transformación de columnas numeric -> char
electric_cars <- electric_cars %>% 
  mutate_at(vars(postal_code, legislative_district, 
                 legislative_district, dol_vehicle_id, x2020_census_tract), as.character)

# Transformación de columnas de numéricas a factores
electric_cars <- electric_cars %>% 
  mutate_at(vars(model_year, electric_vehicle_type,  
                 clean_alternative_fuel_vehicle_cafv_eligibility), as.factor)

# identificacion de datos perdidos
datos_perdidos <- electric_cars %>% filter(rowSums(is.na(.)) > 0) #414 registros


# Eliminar filas con valores perdidos
electric_cars <- na.omit(electric_cars)
```


## Revisión de data set

Se revisa el data set para ver el resultado después de la aplicación de limpieza.
```{r, fig.align="center", warning=FALSE}
skim(electric_cars)
```

## Almacenamiento en MySQL
Este código en R informa sobre el proceso de escribir datos en una base de datos. Primero, muestra un mensaje indicando que la escritura está en curso y la hora actual. Luego, guarda los datos de electric_cars en la tabla "electric_cars" de la base de datos, reemplazando cualquier contenido previo. Finalmente, muestra un mensaje confirmando que los datos se escribieron exitosamente, junto con la hora en que se completó la operación.
```{r message=FALSE, warning=FALSE}
message(paste("Escribiendo datos en la base de datos... por favor espera. - ", Sys.time()))
dbWriteTable(con, "electric_cars", electric_cars, overwrite = TRUE, append = FALSE, row.names = FALSE)
message(paste("Datos escritos exitosamente en la base de datos. - ", Sys.time()))
```

# Análisis Exploratorio de Datos

El objetivo del Análisis Exploratorio de Datos (EDA) es resumir las características principales de los datos, a menudo con métodos visuales. En este informe, se explorarán las variables seleccionadas y se identificarán patrones, anomalías y relaciones entre las variables.

## Revisión de vehiculos eléctricos por año.

```{r, fig.align="center", warning=FALSE}
# Crear un gráfico de barras para mostrar la cantidad de autos por año
ggplot(data = electric_cars, aes(x = model_year)) +
  geom_bar() +
  geom_text(stat = "count", aes(label = ..count..), vjust = -0.5, size = 3, color = "black") +
  labs(title = "Cantidad de Autos Eléctricos Registrados por Año",
       x = "Año del Modelo",
       y = "Cantidad de Autos") +
  theme_fivethirtyeight() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```
<br><br>
El gráfico muestra la cantidad de autos eléctricos registrados por año. En el eje horizontal, tenemos los años del modelo (desde 1997 hasta 2025), y en el eje vertical, la cantidad de autos eléctricos. A partir del año 2021, se observa un notable aumento en los registros, indicando una creciente adopción de vehículos eléctricos. En 2023, se registraron aproximadamente 60.000 autos eléctricos.

## Revisión de las top 20 marcas en el mercado de vehículos eléctricos.


```{r, fig.align="center", warning=FALSE}
# Obtener las 20 marcas con más autos
top_brands <- electric_cars %>%
  count(make, sort = TRUE) %>%
  top_n(20, n)

# Crear una columna que agrupa las marcas en 'Otras' si no están en las top 20
electric_cars <- electric_cars %>%
  mutate(make_grouped = ifelse(make %in% top_brands$make, make, "OTHERS"))

top_brands <- electric_cars %>%
  count(make_grouped, sort = TRUE) 

# Gráfico de barras para mostrar la cantidad de autos por marca (top 20)
ggplot(data = top_brands, aes(x = reorder(make_grouped, -n), y = n)) +
  geom_bar(stat = "identity") +
  labs(title = "Top 20 Marcas con Más Autos Eléctricos",
       x = "Marca",
       y = "Cantidad de Autos") +
  theme_fivethirtyeight() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```
<br><br>
Claramente la predominancia de TESLA en el mercado de autos eléctricos con una cantidad significativamente mayor en comparación con otras marcas reconocidas en el mercado Estadounidense.

## Análisis de la distribución de autos eléctricos por ciudad

```{r, fig.align="center", warning=FALSE}
# Obtener las 20 marcas con más autos
top_cities <- electric_cars %>%
  count(city, sort = TRUE) %>%
  top_n(20, n)

# Gráfico de lineas para mostrar las ciudades con mas autos electricos

ggplot(data = top_cities, aes(x = reorder(city, -n), y = n, group = 1)) +
  geom_line(color = "blue") +
  geom_point(color = "red") +
  labs(title = "Top 20 ciudades con Más Autos Eléctricos",
       x = "Ciudad",
       y = "Cantidad de Autos") +
  theme_fivethirtyeight() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))


```
<br><br>
Seattle es la ciudad con mas automóviles eléctricos contenidos en el set de datos.
Un articulo interesante a revisar es [NPR Network](https://www.kuow.org/stories/electric-vehicles-keep-charging-ahead-in-washington)


## Dispersión de cada vehículo en el mapa del estado WA de EEUU.

```{r fig.align="center", message=FALSE, warning=FALSE}

# Llama a la función "extract_coordinates" de funciones_jmb_R
electric_cars_sf <- extract_coordinates(electric_cars, "vehicle_location")

# Lee archivo geospacial SHP
wa <- st_read("shp_2/WSDOT_-_County_Road_(CRAB).shp")

# Grafico de puntos con la capa geoespacial.
ggplot() +
  geom_sf(data = wa, color = "grey", fill = "lightblue") +
  geom_sf(data = electric_cars_sf, color = "blue", alpha = 0.5) +
  labs(title = "Autos Eléctricos en Washington") +
  theme_fivethirtyeight()
```


<br><br>
El mapa muestra la distribución de autos eléctricos en el estado de Washington. La mayor densidad de puntos se encuentra en la ciudad de Seattle.

## Segmentación de Vehículos dada su fuente de alimentación.

```{r, fig.align="center", warning=FALSE}

# Calcular el porcentaje de cada tipo de vehículo eléctrico
electric_cars_segmento <- electric_cars %>%
  count(electric_vehicle_type) %>%
  mutate(percent = n / sum(n) * 100)

electric_cars_segmento

# Gráfico de pastel para mostrar la segmentación del tipo de vehículo eléctrico
ggplot(data = electric_cars_segmento, aes(x = "", y = percent, fill = electric_vehicle_type)) +
  geom_bar(stat = "identity", width = 0.7) +
  geom_text(aes(label = paste0(round(percent), "%")), position = position_stack(vjust = 0.5), size = 10) +
  labs(title = "Segmentación del Tipo de Vehículo Eléctrico",
       fill = "Tipo") +
  theme_fivethirtyeight() +
  theme(plot.title = element_text(hjust = 0.5, size = 14))

```
<br><br>
Existe una gran predominancia de los vehículos con batería (149.397) por sobre los vehiculos hibridos (41.596).

## Análisis de la elegibilidad de vehículos CAFV

```{r, fig.align="center", warning=FALSE}
# Calcular los porcentajes
cafv_counts <- table(electric_cars$clean_alternative_fuel_vehicle_cafv_eligibility)
cafv_perc <- round(prop.table(cafv_counts) * 100, 2)

# Crear un data frame con los datos
df <- data.frame(
  Elegibilidad = names(cafv_counts),
  Cantidad = as.numeric(cafv_counts),
  Porcentaje = cafv_perc
)

# Gráfico de barras horizontales con porcentajes
ggplot(data = df, aes(x = reorder(Elegibilidad, Cantidad), y = Cantidad, label = paste0(Porcentaje.Freq, "%"))) +
  geom_bar(stat = "identity", fill = "skyblue") +
  geom_text(size = 6) +
  labs(title = "Distribución de Elegibilidad de Vehículos CAFV",
       x = "Elegibilidad",
       y = "Cantidad de Autos") +
  theme_fivethirtyeight() +
  theme(axis.text.y = element_text(size = 10))+
  theme(axis.text.x = element_text(angle = 30, hjust = 1))

```

Los vehículos CAFV suelen ser aquellos que utilizan combustibles alternativos, como electricidad, hidrógeno, gas natural comprimido (GNC) o gas licuado de petróleo (GLP), en lugar de gasolina o diésel tradicionales. Estos vehículos son una parte importante de los esfuerzos para reducir las emisiones de gases de efecto invernadero y mejorar la calidad del aire.

Respecto a la distribución de elegibilidad de vehículos CAFV muestra que la mayoría de los vehículos tienen una elegibilidad desconocida (53.38%) debido a que no se ha investigado su autonomía de batería, seguido por aquellos que son elegibles como vehículos CAFV (35.92%). Un número significativamente menor de vehículos no son elegibles debido a su baja autonomía de batería (10.70%). Esto destaca la importancia de investigar y documentar la autonomía de la batería de los vehículos para una clasificación precisa de su elegibilidad como vehículos CAFV.



<!-- Implementación de códigos en R para explorar los datos. Esto puede incluir visualizaciones de datos, medidas de tendencia central, etc. -->

<!-- ```{r} -->

<!-- # Calcular el rango eléctrico promedio por marca -->
<!-- average_range_by_make <- electric_cars %>% -->
<!--   group_by(make) %>% -->
<!--   summarise(average_range = mean(electric_range, na.rm = TRUE)) %>% -->
<!--   arrange(desc(average_range)) -->

<!-- # Crear el gráfico de barras -->
<!-- ggplot(data = average_range_by_make, aes(x = reorder(make, -average_range), y = average_range)) + -->
<!--   geom_bar(stat = "identity", fill = "skyblue", color = "black") + -->
<!--   labs(title = "Rango Eléctrico Promedio por Marca", -->
<!--        x = "Marca", -->
<!--        y = "Rango Eléctrico Promedio") + -->
<!--   theme_minimal() + -->
<!--   theme(axis.text.x = element_text(angle = 90, hjust = 1)) -->
<!-- ``` -->
<!-- ```{r} -->
<!-- #Calcular el rango eléctrico promedio por marca -->
<!-- average_range_by_make <- electric_cars %>% -->
<!-- group_by(make) %>% -->
<!-- summarise(average_range = mean(electric_range, na.rm = TRUE)) %>% -->
<!-- arrange(desc(average_range)) -->

<!-- #Crear el gráfico de barras -->
<!-- ggplot(data = average_range_by_make, aes(x = reorder(make, -average_range), y = average_range)) + -->
<!-- geom_bar(stat = "identity", fill = "skyblue", color = "black") + -->
<!-- labs(title = "Rango Eléctrico Promedio por Marca", -->
<!-- x = "Marca", -->
<!-- y = "Rango Eléctrico Promedio") + -->
<!-- theme_minimal() + -->
<!-- theme(axis.text.x = element_text(angle = 90, hjust = 1)) -->


<!-- ``` -->


<!-- ```{r} -->

<!-- # Graficar el boxplot ordenado -->
<!-- ggplot(average_range_by_make_model, aes(x = make, y = average_range)) + -->
<!--   geom_boxplot(fill = "skyblue", color = "black") + -->
<!--   labs(title = "Rango Eléctrico Promedio por Modelo y Marca", -->
<!--        x = "Marca", -->
<!--        y = "Rango Eléctrico Promedio") + -->
<!--   theme_minimal() + -->
<!--   theme(axis.text.x = element_text(angle = 90, hjust = 1)) -->

<!-- ``` -->

<!-- ```{r} -->
<!-- # Crear el gráfico de caja -->
<!-- ggplot(data = electric_cars, aes(x = electric_vehicle_type, y = electric_range)) + -->
<!--   geom_boxplot(fill = "skyblue", color = "black") + -->
<!--   labs(title = "Distribución del Rango Eléctrico por Tipo de Batería", -->
<!--        x = "Tipo de Batería", -->
<!--        y = "Rango Eléctrico") + -->
<!--   theme_minimal() + -->
<!--   theme(axis.text.x = element_text(angle = 45, hjust = 1)) -->

<!-- ``` -->
<!-- Los vehículos BEV tienen un rango eléctrico más amplio en comparación con los PHEV. La mediana para BEV está alrededor de 200 km, mientras que para PHEV está cerca de 100 km. -->


<!-- 2. Precio Base (MSRP) -->

<!-- ```{r} -->
<!-- # Histograma del precio base (MSRP) -->
<!-- ggplot(data = electric_cars, aes(x = base_msrp)) + -->
<!--   geom_histogram(bins = 30, fill = "skyblue", color = "black") + -->
<!--   labs(title = "Distribución de Precio Base (MSRP)", -->
<!--        x = "Precio Base (MSRP)", -->
<!--        y = "Frecuencia") -->

<!-- ``` -->

<!-- 3. Boxplot de Precio Base por Fabricante -->

<!-- ```{r} -->
<!-- # Boxplot del precio base (MSRP) por fabricante -->
<!-- ggplot(data = electric_cars, aes(x = make, y = base_msrp)) + -->
<!--   geom_boxplot(fill = "skyblue", color = "black") + -->
<!--   theme(axis.text.x = element_text(angle = 45, hjust = 1)) + -->
<!--   labs(title = "Boxplot de Precio Base por Fabricante", -->
<!--        x = "Fabricante", -->
<!--        y = "Precio Base (MSRP)") -->
<!-- ``` -->

<!-- ## Distribución de Variables Cualitativas -->

<!-- 1. Tipo de Vehículo Eléctrico -->

<!-- ```{r} -->
<!-- # Distribución de tipos de vehículos eléctricos -->
<!-- ggplot(data = electric_cars, aes(x = electric_vehicle_type, fill = electric_vehicle_type)) + -->
<!--   geom_bar() + -->
<!--   labs(title = "Distribución de Tipos de Vehículos Eléctricos", -->
<!--        x = "Tipo de Vehículo Eléctrico", -->
<!--        y = "Frecuencia") + -->
<!--   theme(axis.text.x = element_text(angle = 45, hjust = 1)) -->
<!-- ``` -->

<!-- 2. Distribución del Rango Eléctrico por Tipo de Vehículo Eléctrico -->

<!-- ```{r} -->
<!-- # Boxplot del rango eléctrico por tipo de vehículo eléctrico -->
<!-- ggplot(electric_cars, aes(x = electric_vehicle_type, y = electric_range)) + -->
<!--   geom_boxplot() + -->
<!--   labs(title = "Distribución del Rango Eléctrico por Tipo de Vehículo Eléctrico", -->
<!--        x = "Tipo de Vehículo Eléctrico", -->
<!--        y = "Rango Eléctrico") -->
<!-- ``` -->

<!-- ## Relación entre Variables -->

<!-- 1. Diagrama de Dispersión: Rango Eléctrico vs Precio Base (MSRP) -->

<!-- ```{r} -->
<!-- # Diagrama de dispersión del rango eléctrico vs precio base (MSRP) -->
<!-- ggplot(data = electric_cars, aes(x = electric_range, y = base_msrp)) + -->
<!--   geom_point() + -->
<!--   labs(title = "Diagrama de Dispersión: Rango Eléctrico vs Precio Base (MSRP)", -->
<!--        x = "Rango Eléctrico", -->
<!--        y = "Precio Base (MSRP)") -->

<!-- ``` -->

<!-- ## Datos Filtrados y Limpieza -->

<!-- 1. Filtrado de Datos con Valores Cero -->

<!-- ```{r} -->
<!-- # Filtrar el data frame para excluir las observaciones con valor cero en electric_range y base_msrp -->
<!-- electric_cars_filtrados <- electric_cars %>% -->
<!--   filter(electric_range != 0, base_msrp != 0) -->

<!-- # Verificar la muestra obtenida -->
<!-- head(electric_cars_filtrados) -->
<!-- ``` -->

<!-- ## Conclusiones del EDA -->






<!-- ```{r} -->

<!-- ggplot(data = electric_cars, aes(x = electric_range)) + -->
<!--   geom_histogram(binwidth = 20, fill = "skyblue", color = "black") + -->
<!--   labs(title = "Histograma de Electric Range", -->
<!--        x = "Electric Range", -->
<!--        y = "Frecuencia") -->

<!-- # Filtrar el data frame para excluir las observaciones con valor cero en electric_range -->
<!-- electric_cars_filtrados <- electric_cars[electric_cars$electric_range != 0, ] -->

<!-- # Crear el histograma -->
<!-- ggplot(data = electric_cars_filtrados, aes(x = electric_range)) + -->
<!--   geom_histogram(binwidth = 20, fill = "skyblue", color = "black") + -->
<!--   labs(title = "Histograma de Electric Range (excluyendo ceros)", -->
<!--        x = "Electric Range", -->
<!--        y = "Frecuencia") -->

<!-- ggplot(data = electric_cars, aes(x = base_msrp)) + -->
<!--   geom_histogram(bins = 30, fill = "skyblue", color = "black") + -->
<!--   labs(title = "Distribución de Base MSRP", -->
<!--        x = "Base MSRP", -->
<!--        y = "Frecuencia") -->

<!-- ggplot(data = electric_cars, aes(x = make, y = base_msrp)) + -->
<!--   geom_boxplot(fill = "skyblue", color = "black") + -->
<!--   theme(axis.text.x = element_text(angle = 45, hjust = 1)) + -->
<!--   labs(title = "Boxplot de Base MSRP por Fabricante", -->
<!--        x = "Fabricante", -->
<!--        y = "Base MSRP") -->


<!-- ggplot(data = electric_cars, aes(x = electric_vehicle_type, fill = electric_vehicle_type)) + -->
<!--   geom_bar() + -->
<!--   labs(title = "Distribución de Tipos de Vehículos Eléctricos", -->
<!--        x = "Tipo de Vehículo Eléctrico", -->
<!--        y = "Frecuencia") + -->
<!--   theme(axis.text.x = element_text(angle = 45, hjust = 1)) -->


<!-- ggplot(electric_cars, aes(x = electric_vehicle_type, y = electric_range)) + -->
<!--   geom_boxplot() + -->
<!--   labs(title = "Distribución del Rango Eléctrico por Tipo de Vehículo Eléctrico", -->
<!--        x = "Tipo de Vehículo Eléctrico", -->
<!--        y = "Rango Eléctrico")  -->


<!-- ggplot(data = electric_cars, aes(x = base_msrp, y = electric_range)) + -->
<!--   geom_point() + -->
<!--   labs(title = "Diagrama de Dispersión: Electric Range vs Base MSRP", -->
<!--        x = "Electric Range", -->
<!--        y = "Base MSRP") -->
<!-- ``` -->


<!-- ```{r} -->
<!-- # Filtrar los datos para obtener solo las filas donde Base MSRP y Electric Range son distintos de cero -->
<!-- sample_data <- electric_cars[electric_cars$base_msrp != 0 & electric_cars$electric_range != 0, ] -->

<!-- # Verificar la muestra obtenida -->
<!-- head(sample_data) -->
<!-- ``` -->


# Modelado de Datos

Aplicación de técnicas de modelado de datos y algoritmos de aprendizaje automático, si corresponde.

## Interpretación de Resultados

Discusión de los resultados del análisis y su relevancia para los objetivos establecidos en la introducción.
